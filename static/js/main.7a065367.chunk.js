(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{186:function(e,t,n){"use strict";n.r(t);var a=n(74),o=n(1),r=n.n(o),c=n(24),i=n.n(c),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(80),n(82);var u=n(72),p=n(61),h=n(197),d=n(62),m=n(67),f=n(14),b=n(15),v=n(17),g=n(16),w=n(18),E=n(19),j=n(191),O=n(192),y=n(193),k=n(198),x=n(23),C=n.n(x),S=n(28),T=n(64),W=n.n(T),A=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).state={content:"# Loading..."},n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://raw.githubusercontent.com/HW-Core/universal-pwa/master/README.md");case 2:return t=e.sent,e.next=5,t.text();case 5:n=e.sent,this.setState({content:n});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{style:{padding:20}},r.a.createElement(W.a,{source:this.state.content}))}}]),t}(r.a.Component),P=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(v.a)(this,Object(g.a)(t).call(this))).state={posts:[]},e}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"//jsonplaceholder.typicode.com/posts",e.next=3,fetch("//jsonplaceholder.typicode.com/posts");case 3:return t=e.sent,e.t0=this,e.next=7,t.json();case 7:e.t1=e.sent,e.t2={posts:e.t1},e.t0.setState.call(e.t0,e.t2);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h3",null,"This is just a demo of fetching posts with a pre-rendered list (if no JS enabled)"),r.a.createElement("br",null),this.state.posts.length&&this.state.posts.slice(0,10).map(function(e,t){return r.a.createElement("p",{key:t},r.a.createElement(j.a,{to:"/blog/"+e.id+"/"},e.title))})||"Loading...")}}]),t}(r.a.Component),U=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).state={post:""},n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=Object(S.a)(C.a.mark(function e(){var t,n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"//jsonplaceholder.typicode.com/posts/",e.next=3,fetch("//jsonplaceholder.typicode.com/posts/"+this.props.match.params.id);case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,this.setState({post:n.body});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{padding:20}},r.a.createElement("h3",null,"This is just a demo of fetching post with a pre-rendered content (if no JS enabled)"),r.a.createElement("br",null),r.a.createElement("div",null,this.state.post))}}]),t}(r.a.Component),N=n(73),B=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).state={text:"",posts:[]},n.onTextChange=n.onTextChange.bind(Object(E.a)(Object(E.a)(n))),n.postClick=n.postClick.bind(Object(E.a)(Object(E.a)(n))),n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"onTextChange",value:function(e){this.setState({text:e.target.value})}},{key:"postClick",value:function(){this.setState({text:"",posts:[].concat(Object(N.a)(this.state.posts),[this.state.text])})}},{key:"render",value:function(){return r.a.createElement("div",{style:{padding:20}},r.a.createElement("h3",null,"This is a demo of admin page NOT indexed in sitemap for SEO"),r.a.createElement("br",null),r.a.createElement("div",{style:{marginBottom:20,marginTop:20}},r.a.createElement("input",{value:this.state.text,type:"text",onChange:this.onTextChange}),r.a.createElement("button",{onClick:this.postClick},"POST")),r.a.createElement("ul",null,this.state.posts.map(function(e,t){return r.a.createElement("li",{key:t},e)})))}}]),t}(r.a.Component),R={websiteUrl:"undefined"!==typeof window?"http://"+window.location.hostname:"http://127.0.0.1:3000",sitemapBase:"https://hw-core.github.io/universal-pwa/",basePath:"/universal-pwa/",apiUrl:"undefined"!==typeof window?"http://"+window.location.hostname+":4000":"http://127.0.0.1:4000",clientPort:"3000",prerender:{enabled:!0,port:6e4,host:"http://127.0.0.1",cache_maxpages:1e3,cache_ttl:3600},path:"graphql"},D=function(e){return r.a.createElement(k.a,{basename:R.basePath},r.a.createElement("div",null,e.children,r.a.createElement(O.a,null,r.a.createElement(y.a,{exact:!0,path:"/",component:A}),r.a.createElement(y.a,{exact:!0,path:"/blog/",component:P}),r.a.createElement(y.a,{path:"/blog/:id",component:U})),r.a.createElement(O.a,null,r.a.createElement(y.a,{path:"/app/",component:B}))))},H=n(37),L=n(29),M=n(38),J=n(9);L.b.add(M.b,M.c,M.a);var _=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(v.a)(this,Object(g.a)(t).call(this,e))).toggle=n.toggle.bind(Object(E.a)(Object(E.a)(n))),n.state={isOpen:!1},n}return Object(w.a)(t,e),Object(b.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"componentDidMount",value:function(){window.prerenderReady=!0}},{key:"render",value:function(){return r.a.createElement(D,null,r.a.createElement(J.e,{color:"light",light:!0,expand:"md"},r.a.createElement(J.f,{href:R.basePath},"HW Universal PWA"),r.a.createElement(J.g,{onClick:this.toggle,"aria-label":"navbar-toggler"}),r.a.createElement(J.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(J.b,{navbar:!0},r.a.createElement(J.c,null,r.a.createElement(J.d,{to:"/",tag:j.a},r.a.createElement(H.a,{icon:"home"})," Home")),r.a.createElement(J.c,null,r.a.createElement(J.d,{to:"/blog/",tag:j.a},r.a.createElement(H.a,{icon:"rss-square"})," Blog")),r.a.createElement(J.c,null,r.a.createElement(J.d,{to:"/app/",tag:j.a},"Admin")),r.a.createElement(J.c,null,r.a.createElement(J.d,{href:"https://github.com/HW-Core/universal-pwa"},"Repository ",r.a.createElement(H.a,{icon:"external-link-alt"})))))))}}]),t}(r.a.Component),q=Object(d.a)(function(e,t){var n=t.headers,o=localStorage.getItem("AUTH_TOKEN");return{headers:Object(a.a)({},n,{authorization:o?"Bearer ".concat(o):""})}}),I=Object(m.createUploadLink)({uri:R.apiUrl+"/"+R.path}),z=new p.a({link:q.concat(I),cache:new h.a}),K=r.a.createElement("div",null,r.a.createElement(u.ApolloProvider,{client:z},r.a.createElement(_,null))),$=document.getElementById("root");$.hasChildNodes()?i.a.hydrate(K,$):i.a.render(K,$),function(e){if("serviceWorker"in navigator){if(new URL("/universal-pwa",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/universal-pwa","/service-worker.js");s?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):l(t,e)})}}()},75:function(e,t,n){e.exports=n(186)},82:function(e,t,n){}},[[75,2,1]]]);
//# sourceMappingURL=main.7a065367.chunk.js.map